<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Measurely – Dashboard</title>
  <link rel="icon" type="image/svg+xml" href="icons/favicon.svg">
  <link rel="alternate icon" href="favicon.ico">
  <link rel="stylesheet" href="measurely.css">
  <script src="tailwind.js"></script>
  <script src="js/plotly.min.js"></script>
  <link rel="stylesheet" href="fonts/inter/interweb/inter.css">

  <style>
  </style>

<base target="_blank">
</head>

<body class="bg-gray-300">
<!-- Mobile banner -->
<div class="mobile-banner md:hidden fixed top-0 left-0 right-0 h-14 backdrop-blur-sm
            flex items-center justify-between px-4 z-50">
  <div class="flex items-center space-x-2">
    <img src="icons/mainlogo.svg"
        class="max-h-10 w-auto object-contain"
        alt="Measurely Logo">


  </div>
  <button id="mobile-menu-btn" class="p-2 rounded-lg text-white hover:bg-white/10 transition">
    <img src="icons/bars.svg" class="w-6 h-6" alt="">
  </button>
</div>

<div id="sidebar-overlay" class="sidebar-overlay"></div>
<aside id="sidebar" class="sidebar">
  <div class="sidebar-logo mb-8 flex items-center space-x-3">
    <img src="icons/mainlogo.svg" class="w-15 h-15" alt="Measurely Buddy">
    <div>
    </div>
  </div>
    <nav class="space-y-2">

      <a href="index.html" class="nav-item">
        <img src="icons/chart-line.svg" class="w-5 h-5 mr-3 inline-block" />
        Dashboard
      </a>

      <a href="room-setup.html" class="nav-item">
        <img src="icons/home.svg" class="w-5 h-5 mr-3 inline-block" />
        Room Setup
      </a>

      <a href="tipsandtweaks.html" class="nav-item">
        <img src="icons/lightbulb.svg" class="w-5 h-5 mr-3 inline-block" />
        Tips and Tweaks
      </a>

    </nav>

<!-- ===== SIDEBAR STATUS PANEL ===== -->
<div class="absolute bottom-6 left-6 right-6">

  <div class="bg-white/20 backdrop-blur-md rounded-lg p-4 space-y-3">

    <!-- 1. SYSTEM READY -->
    <div class="flex items-center">
      <div id="systemReadyDot" class="status-indicator status-good pulse-animation"></div>
      <span id="systemReadyText" class="text-sm">System Ready</span>
    </div>

    <!-- 2. IP ADDRESS -->
    <div class="flex items-center">
      <div id="ipStatusDot" class="status-indicator bg-blue-400"></div>
      <span id="ipAddressText" class="text-sm">IP: 0.0.0.0</span>
    </div>

    <!-- 3. THAT CONNECTED (DAC / device) -->
    <div class="flex items-center">
      <div id="dacStatusDot" class="status-indicator bg-yellow-400"></div>
      <span id="dacStatusText" class="text-sm">That: Not Found</span>
    </div>

    <!-- 4. USB MIC CONNECTED -->
    <div class="flex items-center">
      <div id="usbStatusDot" class="status-indicator bg-red-400"></div>
      <span id="usbStatusText" class="text-sm">USB Mic: Not Connected</span>
    </div>

    <!-- 5. CLOCK -->
    <p class="text-xs opacity-80">
      Last updated: <span id="lastUpdated">Now</span>
    </p>

  </div>

</div>

</aside>

  <!-- =====  MAIN CONTENT  ===== -->
  <div class="main-content md:ml-64 p-8">

    <!-- Page Title -->
    <div class="page-title-block">
      <h1 class="page-title">Welcome to Measurely</h1>
      <p class="page-subtitle">Measurely gives you a quick, honest read of how your room shapes your sound,
      and the simplest ways to fix it.</p>
    </div>

<!-- ===== TOP SECTION: MAIN CARD WRAPPER ===== -->
<div class="mb-8">

  <!-- 3 inner cards -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6">

    <!-- ACTIONS CARD -->
    <div class="card flex flex-col items-start justify-center">

      <h3 class="text-xl font-semibold mb-4">
        <img src="icons/toolbox.svg" class="w-5 h-5 mr-2 text-purple-600 inline-block" />Actions
      </h3>

      <div class="flex flex-col sm:flex-row flex-wrap gap-4">

        <button id="runSweepBtn"
          class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-all flex items-center shadow-sm">
          <i class="fas fa-play mr-2"></i>Quick Sweep
        </button>

        <button id="saveResultsBtn"
          class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold transition-all flex items-center shadow-sm">
          <i class="fas fa-save mr-2"></i>Save Results
        </button>

        <button id="exportReportBtn"
          class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-semibold transition-all flex items-center shadow-sm">
          <i class="fas fa-share mr-2"></i>Export Report
        </button>

      </div>

    </div>



    <!-- YOUR SCORE -->
    <div class="card">

      <h3 class="text-xl font-semibold mb-1">
        <img src="icons/chart-line.svg" class="w-5 h-5 mr-2 text-purple-600 inline-block" />Your Score
      </h3>

      <p class="text-xs text-gray-500 mb-3">
        Scores are out of 10, higher = better room response.
      </p>

      <div id="overallScore"
          data-color-target="overall"
          class="font-bold mb-3"
          style="font-size: clamp(4rem, 8vw, 8rem); line-height: 1;">
        --
      </div>

      <div class="flex items-center text-sm mt-2">
        <span id="overallStatus"
              data-color-target="overall"
              class="w-3 h-3 rounded-full mr-2"></span>

        <span id="overallStatusText"
              data-color-summary="overall">
          Loading…
        </span>
      </div>

    </div>



    <!-- DAVE SAYS -->
    <div class="card">

      <h3 class="text-xl font-semibold mb-1">
        <img src="icons/comment-dots.svg" class="w-5 h-5 mr-2 text-purple-600 inline-block" />Dave Says
      </h3>

      <p class="text-xs text-gray-500 mb-3">Dave’s read on what stood out in your sweep.</p>

      <div class="buddy-box mt-3">
        <img src="icons/dave.svg"
            class="w-10 h-10 opacity-90"
            alt="Dave">
        <p id="overallBuddyPhrase"
          class="text-gray-800 text-base leading-snug italic">
          “…” 
        </p>
      </div>
    </div>

  </div>
</div>





<!-- HOW WE SCORE (now in a proper card) -->
<div class="card mb-8">

  <h3 class="text-lg font-semibold text-gray-800 mb-1">How We Score</h3>
  <p class="text-sm text-gray-600 mb-4">
    Your numbers at a glance, simple ranges, clear meaning.
  </p>

  <div class="score-legend">
    <div class="score-legend-grid">

      <div class="score-legend-item">
        <span class="score-legend-dot bg-green-500"></span>
        <div>
          <p class="score-legend-label">Excellent</p>
          <p class="score-legend-range">8–10</p>
        </div>
      </div>

      <div class="score-legend-item">
        <span class="score-legend-dot bg-yellow-500"></span>
        <div>
          <p class="score-legend-label">Good</p>
          <p class="score-legend-range">6–7.9</p>
        </div>
      </div>

      <div class="score-legend-item">
        <span class="score-legend-dot bg-blue-400"></span>
        <div>
          <p class="score-legend-label">Okay</p>
          <p class="score-legend-range">4–5.9</p>
        </div>
      </div>

      <div class="score-legend-item">
        <span class="score-legend-dot bg-red-500"></span>
        <div>
          <p class="score-legend-label">Needs work</p>
          <p class="score-legend-range">0–3.9</p>
        </div>
      </div>

    </div>
  </div>

</div>


<!-- Page Title -->
<div class="page-title-block">
  <h1 class="page-title">Your Room Results</h1>
  <p class="page-subtitle">All your measured scores and sound characteristics in 6 categories.</p>
</div>

<!-- card-in-card: 6-metric grid ONLY -->
<div class="mb-8">

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">


  <!-- 1. Peaks & Dips -->
  <div class="score-legend">
    <div class="flex items-center justify-between mb-4">
      <h4 class="text-lg font-semibold text-gray-800">Peaks & Dips</h4>
      <img src="icons/mountain.svg" class="w-5 h-5 text-xl" data-color-icon="peaksDips" />
    </div>

    <div id="peaksDipsScore" class="text-3xl font-bold mb-1" data-color-target="peaksDips">--</div>
    <div id="peaksDipsSummary" class="text-sm mb-2" data-color-summary="peaksDips">--</div>

    <div class="buddy-box">
      <img src="icons/dave.svg" class="w-4 h-4 mr-2 opacity-90 mt-0.5" alt="Buddy tip">
      <span id="peaksDipsBuddy" class="italic">--</span>
    </div>

    <div class="mt-4">
      <div class="flex items-center text-xs mb-1">
        <span id="peaksDipsStatus" class="w-3 h-3 rounded-full mr-2"></span>
        <span id="peaksDipsStatusText" data-color-summary="peaksDips">--</span>
      </div>
      <div id="peaksDipsFoot" class="text-xs text-gray-400 mb-2"></div>
    </div>
  </div>

  <!-- 2. Reflections -->
  <div class="score-legend">
    <div class="flex items-center justify-between mb-4">
      <h4 class="text-lg font-semibold text-gray-800">Reflections</h4>
      <img src="icons/square-caret-left.svg" class="w-5 h-5 text-xl" data-color-icon="reflections" />
    </div>

    <div id="reflectionsScore" class="text-3xl font-bold mb-1" data-color-target="reflections">--</div>
    <div id="reflectionsSummary" class="text-sm mb-2" data-color-summary="reflections">--</div>

    <div class="buddy-box">
      <img src="icons/dave.svg" class="w-6 h-6 mr-2 opacity-90 mt-0.5" alt="Buddy tip">
      <span id="reflectionsBuddy" class="italic">--</span>
    </div>

    <div class="mt-4">
      <div class="flex items-center text-xs mb-1">
        <span id="reflectionsStatus" class="w-3 h-3 rounded-full mr-2"></span>
        <span id="reflectionsStatusText" data-color-summary="reflections">--</span>
      </div>
      <div id="reflectionsFoot" class="text-xs text-gray-400 mb-2"></div>
    </div>
  </div>

  <!-- 3. Bandwidth -->
  <div class="score-legend">
    <div class="flex items-center justify-between mb-4">
      <h4 class="text-lg font-semibold text-gray-800">Bandwidth</h4>
      <img src="icons/signal.svg" class="w-5 h-5 text-xl" data-color-icon="bandwidth" />
    </div>

    <div id="bandwidthScore" class="text-3xl font-bold mb-1" data-color-target="bandwidth">--</div>
    <div id="bandwidthSummary" class="text-sm mb-2" data-color-summary="bandwidth">--</div>

    <div class="buddy-box">
      <img src="icons/dave.svg" class="w-6 h-6 mr-2 opacity-90 mt-0.5" alt="Buddy tip">
      <span id="bandwidthBuddy" class="italic">--</span>
    </div>

    <div class="mt-4">
      <div class="flex items-center text-xs mb-1">
        <span id="bandwidthStatus" class="w-3 h-3 rounded-full mr-2"></span>
        <span id="bandwidthStatusText" data-color-summary="bandwidth">--</span>
      </div>
      <div id="bandwidthFoot" class="text-xs text-gray-400 mb-2"></div>
    </div>
  </div>

  <!-- 4. Balance -->
  <div class="score-legend">
    <div class="flex items-center justify-between mb-4">
      <h4 class="text-lg font-semibold text-gray-800">Balance</h4>
      <img src="icons/balance-scale.svg" class="w-5 h-5 text-xl" data-color-icon="balance" />
    </div>

    <div id="balanceScore" class="text-3xl font-bold mb-1" data-color-target="balance">--</div>
    <div id="balanceSummary" class="text-sm mb-2" data-color-summary="balance">--</div>

    <div class="buddy-box">
      <img src="icons/dave.svg" class="w-6 h-6 mr-2 opacity-90 mt-0.5" alt="Buddy tip">
      <span id="balanceBuddy" class="italic">--</span>
    </div>

    <div class="mt-4">
      <div class="flex items-center text-xs mb-1">
        <span id="balanceStatus" class="w-3 h-3 rounded-full mr-2"></span>
        <span id="balanceStatusText" data-color-summary="balance">--</span>
      </div>
      <div id="balanceFoot" class="text-xs text-gray-400 mb-2"></div>
    </div>
  </div>

  <!-- 5. Smoothness -->
  <div class="score-legend">
    <div class="flex items-center justify-between mb-4">
      <h4 class="text-lg font-semibold text-gray-800">Smoothness</h4>
      <img src="icons/wave-square.svg" class="w-5 h-5 text-xl" data-color-icon="Smoothness" />
     
    </div>

    <div id="smoothnessScore" class="text-3xl font-bold mb-1" data-color-target="smoothness">--</div>
    <div id="smoothnessSummary" class="text-sm mb-2" data-color-summary="smoothness">--</div>

    <div class="buddy-box">
      <img src="icons/dave.svg" class="w-6 h-6 mr-2 opacity-90 mt-0.5" alt="Buddy tip">
      <span id="smoothnessBuddy" class="italic">--</span>
    </div>

    <div class="mt-4">
      <div class="flex items-center text-xs mb-1">
        <span id="smoothnessStatus" class="w-3 h-3 rounded-full mr-2"></span>
        <span id="smoothnessStatusText" data-color-summary="smoothness">--</span>
      </div>
      <div id="smoothnessFoot" class="text-xs text-gray-400 mb-2"></div>
    </div>
  </div>

  <!-- 6. Reverb -->
  <div class="score-legend">
    <div class="flex items-center justify-between mb-4">
      <h4 class="text-lg font-semibold text-gray-800">Reverb</h4>
      <img src="icons/clock.svg" class="w-5 h-5 text-xl" data-color-icon="reverb" />
    </div>

    <div id="reverbScore" class="text-3xl font-bold mb-1" data-color-target="reverb">--</div>
    <div id="reverbSummary" class="text-sm mb-2" data-color-summary="reverb">--</div>

    <div class="buddy-box">
      <img src="icons/dave.svg" class="w-6 h-6 mr-2 opacity-90 mt-0.5" alt="Buddy tip">
      <span id="reverbBuddy" class="italic">--</span>
    </div>

    <div class="mt-4">
      <div class="flex items-center text-xs mb-1">
        <span id="reverbStatus" class="w-3 h-3 rounded-full mr-2"></span>
        <span id="reverbStatusText" data-color-summary="reverb">--</span>
      </div>
      <div id="reverbFoot" class="text-xs text-gray-400 mb-2"></div>
    </div>
  </div>

</div>
</div>


<!-- =========================================== -->
<!--  WHAT WE HEARD IN YOUR ROOM (FULL CARD)     -->
<!-- =========================================== -->

<div class="card mb-8">

  <!-- Header -->
  <div class="mb-4">
    <h2 class="text-xl font-semibold text-gray-800">What We Heard In Your Room</h2>
    <p class="text-sm text-gray-600">
      Your room’s influence, broken down into the four parts your ears actually notice:
      bass, mids, treble, and air.
    </p>
  </div>

  <!-- 4 BANDS -->
  <div class="inner-card">

    <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-2 text-center">

      <!-- Bass -->
      <div>
        <div id="bassLevel" class="text-3xl font-bold text-blue-400 mb-1">-- dB</div>
        <div class="text-sm text-gray-600 mb-2">Bass (20–200 Hz)</div>
        <div class="w-full bg-gray-200 rounded h-2">
          <div id="bassBar" class="h-2 rounded bg-blue-400" style="width: 0%"></div>
        </div>
        <p class="text-xs text-gray-500 mt-2">The punch and weight in the room.</p>
      </div>

      <!-- Mid -->
      <div>
        <div id="midLevel" class="text-3xl font-bold text-green-500 mb-1">-- dB</div>
        <div class="text-sm text-gray-600 mb-2">Mid (200–2 kHz)</div>
        <div class="w-full bg-gray-200 rounded h-2">
          <div id="midBar" class="h-2 rounded bg-green-500" style="width: 0%"></div>
        </div>
        <p class="text-xs text-gray-500 mt-2">Vocals, guitars, the “meat” of the music.</p>
      </div>

      <!-- Treble -->
      <div>
        <div id="trebleLevel" class="text-3xl font-bold text-yellow-500 mb-1">-- dB</div>
        <div class="text-sm text-gray-600 mb-2">Treble (2–10 kHz)</div>
        <div class="w-full bg-gray-200 rounded h-2">
          <div id="trebleBar" class="h-2 rounded bg-yellow-500" style="width: 0%"></div>
        </div>
        <p class="text-xs text-gray-500 mt-2">Cymbals, clarity, sparkle.</p>
      </div>

      <!-- Air -->
      <div>
        <div id="airLevel" class="text-3xl font-bold text-purple-600 mb-1">-- dB</div>
        <div class="text-sm text-gray-600 mb-2">Air (10–20 kHz)</div>
        <div class="w-full bg-gray-200 rounded h-2">
          <div id="airBar" class="h-2 rounded bg-purple-600" style="width: 0%"></div>
        </div>
        <p class="text-xs text-gray-500 mt-2">Sense of space and openness.</p>
      </div>

    </div>

  </div>




  <!-- ======================== -->
  <!-- QUICK LISTEN GUIDE BOX  -->
  <!-- ======================== -->
  <div class="bg-gray-50 rounded-lg p-4">
    <h4 class="font-semibold text-gray-800 mb-2">Quick Listen Guide</h4>
    <p class="text-sm text-gray-600 mb-2">
      Here’s what to listen for, and the quickest fixes when something feels off.
    </p>

    <ul class="text-sm text-gray-600 space-y-1 list-disc list-inside">

      <li>
        <span class="font-medium text-blue-400">Bass thin?</span>
        Speakers too close to the wall → pull them forward a touch.
      </li>

      <li>
        <span class="font-medium text-green-500">Vocals too shouty?</span>
        Room reflections → try a rug or small toe-in.
      </li>

      <li>
        <span class="font-medium text-yellow-500">Treble dull?</span>
        Tweeters below ear height → lift stands or reduce heavy curtains.
      </li>

      <li>
        <span class="font-medium text-purple-600">Missing “air”?</span>
        Add something reflective behind your seat, or try a diffuser.
      </li>

    </ul>
  </div>

</div>
<!-- END full section card -->


<!-- =========================================== -->
<!--        NERDS CORNER – SINGLE CARD           -->
<!--  Chart + Buttons + Session Explorer inside  -->
<!-- =========================================== -->

<div class="card mb-8">

  <!-- Header: icon + title -->
  <div class="flex items-center mb-4">
    <img src="icons/davenerd.png" class="w-12 h-12 mr-3" alt="Dave Nerd Icon">
    <div>
      <h2 class="text-xl font-semibold text-gray-800">Nerds Corner</h2>
      <p class="text-sm text-gray-600">
        Uncover the differences and fine-tune your sound.
      </p>
    </div>
  </div>

  <!-- ===================== -->
  <!--   INNER CARD WRAPPER  -->
  <!-- ===================== -->
  <div class="inner-card">

    <!-- ============================== -->
    <!--   FREQUENCY RESPONSE SECTION   -->
    <!-- ============================== -->
    <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-4">

      <div class="mb-2 md:mb-0">
        <h3 class="text-lg font-semibold">Frequency Response</h3>
        <p class="text-sm text-gray-600 mt-1">Switch between channels to compare.</p>
      </div>

      <div class="chart-btn-group flex gap-2 mt-2 md:mt-0">

        <!-- LEFT -->
        <button
          id="leftChannelBtn"
          data-channel="left"
          class="channel-btn px-4 py-2 rounded-lg text-sm text-white transition-all"
          style="background-color:#6D28D9;">
          <i class="fas fa-chart-line mr-2"></i>Left
        </button>

        <!-- RIGHT -->
        <button
          id="rightChannelBtn"
          data-channel="right"
          class="channel-btn px-4 py-2 rounded-lg text-sm text-white transition-all"
          style="background-color:#3B82F6;">
          <i class="fas fa-chart-line mr-2"></i>Right
        </button>

        <!-- BOTH -->
        <button
          id="bothChannelsBtn"
          data-channel="both"
          class="channel-btn px-4 py-2 rounded-lg text-sm transition-all channel-active bg-gray-200 hover:bg-gray-300">
          <i class="fas fa-chart-line mr-2"></i>Both
        </button>

      </div>
    </div>

    <!-- CHART -->
    <div id="frequencyChart" class="chart-responsive mb-8"></div>

    <!-- ======================================== -->
    <!--          SESSION EXPLORER (DATA)         -->
    <!-- ======================================== -->

    <div class="bg-gray-50 rounded-xl p-5">

      <h4 class="text-lg font-semibold text-gray-800 mb-4">Session Explorer</h4>

      <!-- Buttons -->
      <div class="flex flex-wrap gap-3 text-sm mb-6">

        <button id="sessionLatestBtn"
          class="session-btn px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg font-semibold">
          Latest
        </button>

        <button id="sessionPreviousBtn"
          class="session-btn px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg font-semibold">
          Previous
        </button>

        <button id="sessionLastBtn"
          class="session-btn px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg font-semibold">
          Oldest
        </button>

      </div>

      <!-- DATA BLOCKS -->
      <div id="sessionMetrics" class="space-y-6">

        <!-- OVERALL -->
        <div class="p-4 bg-white rounded-lg shadow">
          <h5 class="font-semibold text-gray-800 mb-2">Overall</h5>
          <p class="text-sm"><strong>Score:</strong> <span id="sessOverallScore">--</span></p>
          <p class="text-sm"><strong>Status:</strong> <span id="sessOverallStatus">--</span></p>
        </div>

        <!-- SIX METRICS -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">

          <div class="p-4 bg-white rounded-lg shadow">
            <p class="text-xs text-gray-500 uppercase">Peaks & Dips</p>
            <p id="sessPeaksDips" class="text-lg font-semibold">--</p>
          </div>

          <div class="p-4 bg-white rounded-lg shadow">
            <p class="text-xs text-gray-500 uppercase">Reflections</p>
            <p id="sessReflections" class="text-lg font-semibold">--</p>
          </div>

          <div class="p-4 bg-white rounded-lg shadow">
            <p class="text-xs text-gray-500 uppercase">Bandwidth</p>
            <p id="sessBandwidth" class="text-lg font-semibold">--</p>
          </div>

          <div class="p-4 bg-white rounded-lg shadow">
            <p class="text-xs text-gray-500 uppercase">Balance</p>
            <p id="sessBalance" class="text-lg font-semibold">--</p>
          </div>

          <div class="p-4 bg-white rounded-lg shadow">
            <p class="text-xs text-gray-500 uppercase">Smoothness</p>
            <p id="sessSmoothness" class="text-lg font-semibold">--</p>
          </div>

          <div class="p-4 bg-white rounded-lg shadow">
            <p class="text-xs text-gray-500 uppercase">Reverb</p>
            <p id="sessReverb" class="text-lg font-semibold">--</p>
          </div>

        </div>

        <!-- 4 BANDS -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">

          <div class="p-4 bg-white rounded-lg shadow text-center">
            <p class="text-xs text-gray-500 uppercase">Bass</p>
            <p id="sessBass" class="text-xl font-bold">-- dB</p>
          </div>

          <div class="p-4 bg-white rounded-lg shadow text-center">
            <p class="text-xs text-gray-500 uppercase">Mid</p>
            <p id="sessMid" class="text-xl font-bold">-- dB</p>
          </div>

          <div class="p-4 bg-white rounded-lg shadow text-center">
            <p class="text-xs text-gray-500 uppercase">Treble</p>
            <p id="sessTreble" class="text-xl font-bold">-- dB</p>
          </div>

          <div class="p-4 bg-white rounded-lg shadow text-center">
            <p class="text-xs text-gray-500 uppercase">Air</p>
            <p id="sessAir" class="text-xl font-bold">-- dB</p>
          </div>

        </div>

      </div>

    </div>

  </div>

</div>



 <!-- =====  JAVASCRIPT  ===== -->
  <script src="/js/dashboard.js"></script>
  <script>
    const btn  = document.getElementById('mobile-menu-btn');
    const side = document.getElementById('sidebar');
    const over = document.getElementById('sidebar-overlay');

    function toggleMenu() {
      const side = document.getElementById("sidebar");
      const over = document.getElementById("sidebar-overlay");

      side.classList.toggle("active");
      over.classList.toggle("active");

      // Lock scroll when menu open
      document.body.style.overflow =
        side.classList.contains("active") ? "hidden" : "";
    }

    btn.addEventListener('click', toggleMenu);
    over.addEventListener('click', toggleMenu);

    function togglePopup(id) {
      document.getElementById(id).classList.toggle('hidden');
    }

    document.querySelectorAll('.nav-item').forEach(link => {
      link.addEventListener('click', () => {
        if (window.innerWidth <= 768) {
          side.classList.remove('active');
          over.classList.remove('active');
          document.body.style.overflow = '';
        }
      });
    });

    // Update last updated time every second
    setInterval(() => {
      const el = document.getElementById('lastUpdated');
      if (el) el.textContent = new Date().toLocaleTimeString();
    }, 1000);
  </script>
</body>
</html>
