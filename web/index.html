<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Measurely ‚Äì Dashboard</title>
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="alternate icon" href="favicon.ico">
  <link rel="stylesheet" href="measurely.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/plotly.js/3.0.3/plotly.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <style>
  </style>

<base target="_blank">
</head>

<body class="bg-gray-50">
<!-- Mobile banner -->
<div class="mobile-banner md:hidden fixed top-0 left-0 right-0 h-14 backdrop-blur-sm
            flex items-center justify-between px-4 z-50">
  <div class="flex items-center space-x-2">
    <img src="buddy-icon-100-white.svg" class="w-10 h-10" alt="Dave">
    <span class="text-white font-semibold text-sm">Measurely</span>
  </div>
  <button id="mobile-menu-btn" class="p-2 rounded-lg text-white hover:bg-white/10 transition">
    <i class="fas fa-bars text-lg"></i>
  </button>
</div>

<div id="sidebar-overlay" class="sidebar-overlay"></div>
<aside id="sidebar" class="sidebar">
  <div class="sidebar-logo mb-8 flex items-center space-x-3">
    <img src="buddy-icon-100-white.svg" class="w-12 h-12" alt="Measurely Buddy">
    <div>
      <h1 class="text-2xl font-bold">Measurely</h1>
      <p class="text-sm opacity-80">Simple Room Audio</p>
    </div>
  </div>
  <nav class="space-y-2">
    <a href="index.html" class="nav-item"><i class="fas fa-chart-line mr-3"></i>Dashboard</a>
    <a href="room-setup.html" class="nav-item"><i class="fas fa-home mr-3"></i>Room Setup</a>
    <a href="tipsandtweaks.html" class="nav-item"><i class="fas fa-lightbulb mr-3"></i>Tips and Tweaks</a>
  </nav>
<!-- ===== SIDEBAR STATUS PANEL ===== -->
<div class="absolute bottom-6 left-6 right-6">

  <div class="bg-white/20 backdrop-blur-md rounded-lg p-4 space-y-3">

    <!-- 1. SYSTEM READY -->
    <div class="flex items-center">
      <div id="systemReadyDot" class="status-indicator status-good pulse-animation"></div>
      <span id="systemReadyText" class="text-sm">System Ready</span>
    </div>

    <!-- 2. IP ADDRESS -->
    <div class="flex items-center">
      <div id="ipStatusDot" class="status-indicator bg-blue-400"></div>
      <span id="ipAddressText" class="text-sm">IP: 0.0.0.0</span>
    </div>

    <!-- 3. THAT CONNECTED (DAC / device) -->
    <div class="flex items-center">
      <div id="dacStatusDot" class="status-indicator bg-yellow-400"></div>
      <span id="dacStatusText" class="text-sm">That: Not Found</span>
    </div>

    <!-- 4. USB MIC CONNECTED -->
    <div class="flex items-center">
      <div id="usbStatusDot" class="status-indicator bg-red-400"></div>
      <span id="usbStatusText" class="text-sm">USB Mic: Not Connected</span>
    </div>

    <!-- 5. CLOCK -->
    <p class="text-xs opacity-80">
      Last updated: <span id="lastUpdated">Now</span>
    </p>

  </div>

</div>

</aside>

  <!-- =====  MAIN CONTENT  ===== -->
  <div class="main-content md:ml-64 p-8">

    <!-- Page Title -->
    <div class="page-title-block">
      <h1 class="page-title">Welcome to Measurely</h1>
      <p class="page-subtitle">Measurely gives you a quick, honest read of how your room shapes your sound,
      and the simplest ways to fix it.</p>
    </div>

  <!-- ===== TOP SECTION: MAIN CARD WRAPPER ===== -->
  <!-- DAVE INTRO MAIN CARD -->
  <div class="card mb-8">

    <!-- Outer header -->
    <div class="mb-4">
      <h2 class="text-xl font-semibold text-gray-800">Introduction to Dave</h2>
      <p class="text-sm text-gray-600">
        Dave helps translate your sweep into simple, plain-English nudges.
      </p>
    </div>

    <!-- 3 inner cards -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">

      <!-- MEET DAVE -->
      <div class="card">
        <h3 class="text-xl font-semibold mb-1">üëã Meet Dave</h3>
        <p class="text-xs text-gray-500 mb-3">Your friendly guide through each sweep.</p>

        <div class="buddy-box flex items-start gap-3">
          <img src="buddy-icon-100.svg"
              class="w-10 h-10 opacity-90"
              alt="Dave">
          <p class="text-gray-800 text-base leading-snug italic">
            I‚Äôm the voice that pops up after each sweep, pointing out the quick wins
            without the techy waffle.
          </p>
        </div>
      </div>

      <!-- DAVE HAS SCORED YOU -->
      <div class="card">
        <h3 class="text-xl font-semibold mb-1">üìà Dave's Scored</h3>
        <p class="text-xs text-gray-500 mb-3">Scores are out of 10, higher = better room response.</p>

        <div id="overallScore"
            class="font-bold text-indigo-600 mb-3"
            style="font-size: clamp(4rem, 8vw, 8rem); line-height: 1;">
          --
        </div>

        <div class="flex items-center text-sm text-gray-600 mt-2">
          <span id="overallStatus" class="status-indicator mr-2"></span>
          <span id="overallStatusText">Loading‚Ä¶</span>
        </div>
      </div>

      <!-- DAVE SAYS -->
      <div class="card">
        <h3 class="text-xl font-semibold mb-1">üí¨ Dave Says</h3>
        <p class="text-xs text-gray-500 mb-3">Dave‚Äôs read on what stood out in your sweep.</p>

        <div class="buddy-box mt-3">
          <img src="buddy-icon-100.svg"
              class="w-10 h-10 opacity-90"
              alt="Dave">
          <p id="overallBuddyPhrase"
            class="text-gray-800 text-base leading-snug italic">
            ‚Äú‚Ä¶‚Äù 
          </p>
        </div>
      </div>

    </div>
  </div>


<!-- card-in-card: title + legend -->
<div class="card mb-8">
  <!-- card header -->
  <div class="mb-4">
    <h3 class="text-lg font-semibold text-gray-800">How We Score</h3>
    <p class="text-sm text-gray-600">Your numbers at a glance, simple ranges, clear meaning.</p>
  </div>

  <!-- legend inset -->
  <div class="score-legend">
    <div class="score-legend-grid">
      <div class="score-legend-item">
        <span class="score-legend-dot bg-green-500"></span>
        <div>
          <p class="score-legend-label">Excellent</p>
          <p class="score-legend-range">8‚Äì10</p>
        </div>
      </div>

      <div class="score-legend-item">
        <span class="score-legend-dot bg-yellow-500"></span>
        <div>
          <p class="score-legend-label">Good</p>
          <p class="score-legend-range">6‚Äì7.9</p>
        </div>
      </div>

      <div class="score-legend-item">
        <span class="score-legend-dot bg-blue-400"></span>
        <div>
          <p class="score-legend-label">Okay</p>
          <p class="score-legend-range">4‚Äì5.9</p>
        </div>
      </div>

      <div class="score-legend-item">
        <span class="score-legend-dot bg-red-500"></span>
        <div>
          <p class="score-legend-label">Needs work</p>
          <p class="score-legend-range">0‚Äì3.9</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Page Title -->
<div class="page-title-block">
  <h1 class="page-title">Your Room Results</h1>
  <p class="page-subtitle">All your measured scores and sound characteristics in one clear view.</p>
</div>

<!-- card-in-card: title + 6-metric grid -->
<div class="card mb-8">
  <!-- card header -->
  <div class="mb-4">
    <h2 class="text-xl font-semibold text-gray-800">Room Scores</h2>
    <p class="text-sm text-gray-600">These six cards give you a clear snapshot of how your room is shaping the sound, highlighting what‚Äôs working and where the easy wins are.</p>
  </div>

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">

  <!-- 1. Peaks & Dips -->
  <div class="score-legend">
    <div class="flex items-center justify-between mb-4">
      <h4 class="text-lg font-semibold text-gray-800">Peaks & Dips</h4>
      <i class="fas fa-mountain text-xl" data-color-icon="peaksDips"></i>
    </div>

    <div id="peaksDipsScore" class="text-3xl font-bold mb-1" data-color-target="peaksDips">--</div>
    <div id="peaksDipsSummary" class="text-sm mb-2" data-color-summary="peaksDips">--</div>

    <div class="buddy-box">
      <img src="buddy-icon-100.svg" class="w-4 h-4 mr-2 opacity-90 mt-0.5" alt="Buddy tip">
      <span id="peaksDipsBuddy" class="italic">--</span>
    </div>

    <div class="mt-4">
      <div class="flex items-center text-xs mb-1">
        <span id="peaksDipsStatus" class="w-3 h-3 rounded-full mr-2"></span>
        <span id="peaksDipsStatusText" data-color-summary="peaksDips">--</span>
      </div>
      <div id="peaksDipsFoot" class="text-xs text-gray-400 mb-2"></div>
    </div>
  </div>

  <!-- 2. Reflections -->
  <div class="score-legend">
    <div class="flex items-center justify-between mb-4">
      <h4 class="text-lg font-semibold text-gray-800">Reflections</h4>
      <i class="fas fa-square-caret-left text-xl" data-color-icon="reflections"></i>
    </div>

    <div id="reflectionsScore" class="text-3xl font-bold mb-1" data-color-target="reflections">--</div>
    <div id="reflectionsSummary" class="text-sm mb-2" data-color-summary="reflections">--</div>

    <div class="buddy-box">
      <img src="buddy-icon-100.svg" class="w-6 h-6 mr-2 opacity-90 mt-0.5" alt="Buddy tip">
      <span id="reflectionsBuddy" class="italic">--</span>
    </div>

    <div class="mt-4">
      <div class="flex items-center text-xs mb-1">
        <span id="reflectionsStatus" class="w-3 h-3 rounded-full mr-2"></span>
        <span id="reflectionsStatusText" data-color-summary="reflections">--</span>
      </div>
      <div id="reflectionsFoot" class="text-xs text-gray-400 mb-2"></div>
    </div>
  </div>

  <!-- 3. Bandwidth -->
  <div class="score-legend">
    <div class="flex items-center justify-between mb-4">
      <h4 class="text-lg font-semibold text-gray-800">Bandwidth</h4>
      <i class="fas fa-signal text-xl" data-color-icon="bandwidth"></i>
    </div>

    <div id="bandwidthScore" class="text-3xl font-bold mb-1" data-color-target="bandwidth">--</div>
    <div id="bandwidthSummary" class="text-sm mb-2" data-color-summary="bandwidth">--</div>

    <div class="buddy-box">
      <img src="buddy-icon-100.svg" class="w-6 h-6 mr-2 opacity-90 mt-0.5" alt="Buddy tip">
      <span id="bandwidthBuddy" class="italic">--</span>
    </div>

    <div class="mt-4">
      <div class="flex items-center text-xs mb-1">
        <span id="bandwidthStatus" class="w-3 h-3 rounded-full mr-2"></span>
        <span id="bandwidthStatusText" data-color-summary="bandwidth">--</span>
      </div>
      <div id="bandwidthFoot" class="text-xs text-gray-400 mb-2"></div>
    </div>
  </div>

  <!-- 4. Balance -->
  <div class="score-legend">
    <div class="flex items-center justify-between mb-4">
      <h4 class="text-lg font-semibold text-gray-800">Balance</h4>
      <i class="fas fa-balance-scale text-xl" data-color-icon="balance"></i>
    </div>

    <div id="balanceScore" class="text-3xl font-bold mb-1" data-color-target="balance">--</div>
    <div id="balanceSummary" class="text-sm mb-2" data-color-summary="balance">--</div>

    <div class="buddy-box">
      <img src="buddy-icon-100.svg" class="w-6 h-6 mr-2 opacity-90 mt-0.5" alt="Buddy tip">
      <span id="balanceBuddy" class="italic">--</span>
    </div>

    <div class="mt-4">
      <div class="flex items-center text-xs mb-1">
        <span id="balanceStatus" class="w-3 h-3 rounded-full mr-2"></span>
        <span id="balanceStatusText" data-color-summary="balance">--</span>
      </div>
      <div id="balanceFoot" class="text-xs text-gray-400 mb-2"></div>
    </div>
  </div>

  <!-- 5. Smoothness -->
  <div class="score-legend">
    <div class="flex items-center justify-between mb-4">
      <h4 class="text-lg font-semibold text-gray-800">Smoothness</h4>
      <i class="fas fa-wave-square text-xl" data-color-icon="smoothness"></i>
    </div>

    <div id="smoothnessScore" class="text-3xl font-bold mb-1" data-color-target="smoothness">--</div>
    <div id="smoothnessSummary" class="text-sm mb-2" data-color-summary="smoothness">--</div>

    <div class="buddy-box">
      <img src="buddy-icon-100.svg" class="w-6 h-6 mr-2 opacity-90 mt-0.5" alt="Buddy tip">
      <span id="smoothnessBuddy" class="italic">--</span>
    </div>

    <div class="mt-4">
      <div class="flex items-center text-xs mb-1">
        <span id="smoothnessStatus" class="w-3 h-3 rounded-full mr-2"></span>
        <span id="smoothnessStatusText" data-color-summary="smoothness">--</span>
      </div>
      <div id="smoothnessFoot" class="text-xs text-gray-400 mb-2"></div>
    </div>
  </div>

  <!-- 6. Reverb -->
  <div class="score-legend">
    <div class="flex items-center justify-between mb-4">
      <h4 class="text-lg font-semibold text-gray-800">Reverb</h4>
      <i class="fas fa-clock text-xl" data-color-icon="reverb"></i>
    </div>

    <div id="reverbScore" class="text-3xl font-bold mb-1" data-color-target="reverb">--</div>
    <div id="reverbSummary" class="text-sm mb-2" data-color-summary="reverb">--</div>

    <div class="buddy-box">
      <img src="buddy-icon-100.svg" class="w-6 h-6 mr-2 opacity-90 mt-0.5" alt="Buddy tip">
      <span id="reverbBuddy" class="italic">--</span>
    </div>

    <div class="mt-4">
      <div class="flex items-center text-xs mb-1">
        <span id="reverbStatus" class="w-3 h-3 rounded-full mr-2"></span>
        <span id="reverbStatusText" data-color-summary="reverb">--</span>
      </div>
      <div id="reverbFoot" class="text-xs text-gray-400 mb-2"></div>
    </div>
  </div>

</div>
</div>


<!-- =========================================== -->
<!--  WHAT WE HEARD IN YOUR ROOM (FULL SECTION)  -->
<!-- =========================================== -->

<div class="card mb-8">

  <!-- Header -->
  <div class="mb-4">
    <h2 class="text-xl font-semibold text-gray-800">What We Heard In Your Room</h2>
    <p class="text-sm text-gray-600">
      Your room‚Äôs influence, broken down into the four parts your ears actually notice:
      bass, mids, treble, and air.
    </p>
  </div>

  <!-- ===================== -->
  <!-- INNER CARD ‚Äì 4 BANDS  -->
  <!-- ===================== -->
  <div class="inner-card mb-6">

    <!-- 4 big numbers + bars -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-2 text-center">

      <!-- Bass -->
      <div>
        <div id="bassLevel" class="text-3xl font-bold text-blue-400 mb-1">-- dB</div>
        <div class="text-sm text-gray-600 mb-2">Bass (20‚Äì200 Hz)</div>
        <div class="w-full bg-gray-200 rounded h-2">
          <div id="bassBar" class="h-2 rounded bg-blue-400" style="width: 0%"></div>
        </div>
        <p class="text-xs text-gray-500 mt-2">The punch and weight in the room.</p>
      </div>

      <!-- Mid -->
      <div>
        <div id="midLevel" class="text-3xl font-bold text-green-500 mb-1">-- dB</div>
        <div class="text-sm text-gray-600 mb-2">Mid (200‚Äì2 kHz)</div>
        <div class="w-full bg-gray-200 rounded h-2">
          <div id="midBar" class="h-2 rounded bg-green-500" style="width: 0%"></div>
        </div>
        <p class="text-xs text-gray-500 mt-2">Vocals, guitars, the ‚Äúmeat‚Äù of the music.</p>
      </div>

      <!-- Treble -->
      <div>
        <div id="trebleLevel" class="text-3xl font-bold text-yellow-500 mb-1">-- dB</div>
        <div class="text-sm text-gray-600 mb-2">Treble (2‚Äì10 kHz)</div>
        <div class="w-full bg-gray-200 rounded h-2">
          <div id="trebleBar" class="h-2 rounded bg-yellow-500" style="width: 0%"></div>
        </div>
        <p class="text-xs text-gray-500 mt-2">Cymbals, clarity, sparkle.</p>
      </div>

      <!-- Air -->
      <div>
        <div id="airLevel" class="text-3xl font-bold text-purple-600 mb-1">-- dB</div>
        <div class="text-sm text-gray-600 mb-2">Air (10‚Äì20 kHz)</div>
        <div class="w-full bg-gray-200 rounded h-2">
          <div id="airBar" class="h-2 rounded bg-purple-600" style="width: 0%"></div>
        </div>
        <p class="text-xs text-gray-500 mt-2">Sense of space and openness.</p>
      </div>

    </div>

  </div>
  <!-- END inner-card -->


  <!-- ======================== -->
  <!-- QUICK LISTEN GUIDE BOX  -->
  <!-- ======================== -->
  <div class="bg-gray-50 rounded-lg p-4">
    <h4 class="font-semibold text-gray-800 mb-2">Quick Listen Guide</h4>
    <p class="text-sm text-gray-600 mb-2">
      Here‚Äôs what to listen for, and the quickest fixes when something feels off.
    </p>

    <ul class="text-sm text-gray-600 space-y-1 list-disc list-inside">

      <li>
        <span class="font-medium text-blue-400">Bass thin?</span>
        Speakers too close to the wall ‚Üí pull them forward a touch.
      </li>

      <li>
        <span class="font-medium text-green-500">Vocals too shouty?</span>
        Room reflections ‚Üí try a rug or small toe-in.
      </li>

      <li>
        <span class="font-medium text-yellow-500">Treble dull?</span>
        Tweeters below ear height ‚Üí lift stands or reduce heavy curtains.
      </li>

      <li>
        <span class="font-medium text-purple-600">Missing ‚Äúair‚Äù?</span>
        Add something reflective behind your seat, or try a diffuser.
      </li>

    </ul>
  </div>

</div>
<!-- END full section card -->


<!-- card-in-card: title + chart -->
<div class="card mb-8">
  <div class="mb-4">
    <h2 class="text-xl font-semibold text-gray-800">Nerds Corner</h2>
    <p class="text-sm text-gray-600">Uncover the differences and fine-tune your sound.</p>
  </div>

<!-- SECTION: Left & Right Sound Comparison -->
<div class="inner-card">

  <!-- Heading + Channel Buttons -->
  <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-4">

    <!-- Title + Sub -->
    <div class="mb-2 md:mb-0">
      <h3 class="text-xl font-semibold">Left And Right Sound Comparison.</h3>
      <p class="text-sm text-gray-600 mt-1">
        See how each speaker behaves, spot the differences, and bring them into line.
      </p>
    </div>

    <!-- Buttons -->
    <div class="chart-btn-group flex gap-2 mt-2 md:mt-0">
      <!-- (your buttons stay the same) -->


      <!-- LEFT BUTTON -->
      <button
        id="leftChannelBtn"
        data-channel="left"
        class="channel-btn px-4 py-2 rounded-lg text-sm text-white transition-all"
        style="background-color:#6D28D9;">
        <i class="fas fa-chart-line mr-2"></i>Left
      </button>

      <!-- RIGHT BUTTON -->
      <button
        id="rightChannelBtn"
        data-channel="right"
        class="channel-btn px-4 py-2 rounded-lg text-sm text-white transition-all"
        style="background-color:#3B82F6;">
        <i class="fas fa-chart-line mr-2"></i>Right
      </button>

      <!-- BOTH BUTTON -->
      <button
        id="bothChannelsBtn"
        data-channel="both"
        class="channel-btn px-4 py-2 rounded-lg text-sm transition-all channel-active bg-gray-200 hover:bg-gray-300">
        <i class="fas fa-chart-line mr-2"></i>Both Channels
      </button>

    </div>
  </div>

  <!-- CHART -->
  <div id="frequencyChart" class="chart-responsive"></div>

  <!-- SESSION SELECTOR -->
  <div class="bg-gray-50 rounded-xl p-4 mt-6">
    <h4 class="text-lg font-semibold text-gray-800 mb-1">Compare Your Sessions</h4>
    <p class="text-sm text-gray-600 mb-3">
      Jump between your latest sweeps and see what‚Äôs changed.
    </p>

    <!-- Buttons -->
    <div class="flex flex-wrap gap-6 text-sm mb-4">


      <button id="sessionLatestBtn"
        class="session-btn underline text-blue-700 hover:text-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded">
        Latest
      </button>

      <button id="sessionPreviousBtn"
        class="session-btn underline text-blue-700 hover:text-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded">
        Previous
      </button>

      <button id="sessionLastBtn"
        class="session-btn underline text-blue-700 hover:text-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded">
        Last
      </button>

    </div>

    <!-- MINI METRICS (PLACEHOLDERS FOR NOW) -->
    <div id="sessionMetrics" class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-3">

      <div class="p-3 bg-white rounded-lg shadow-sm text-center">
        <p class="text-xs text-gray-500">Peak Level</p>
        <p id="metricPeak" class="text-lg font-semibold text-indigo-600">-- dB</p>
      </div>

      <div class="p-3 bg-white rounded-lg shadow-sm text-center">
        <p class="text-xs text-gray-500">Deepest Dip</p>
        <p id="metricDip" class="text-lg font-semibold text-red-600">-- dB</p>
      </div>

      <div class="p-3 bg-white rounded-lg shadow-sm text-center">
        <p class="text-xs text-gray-500">L/R Mismatch</p>
        <p id="metricLR" class="text-lg font-semibold text-purple-600">-- dB</p>
      </div>

      <div class="p-3 bg-white rounded-lg shadow-sm text-center">
        <p class="text-xs text-gray-500">Midrange Avg</p>
        <p id="metricMid" class="text-lg font-semibold text-blue-600">-- dB</p>
      </div>

    </div>

    <p class="text-xs text-gray-500">
      Switch between your three most recent measurements.<br>
      These stats and the chart update instantly when you click.
    </p>
  </div>
</div>

</div>


    <!-- Action Buttons -->
    <div class="flex flex-wrap gap-4">
      <button id="runSweepBtn" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-all flex items-center"><i class="fas fa-play mr-2"></i>Quick Sweep</button>
      <button class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold transition-all flex items-center" id="saveResultsBtn"><i class="fas fa-save mr-2"></i>Save Results</button>
      <button class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-semibold transition-all flex items-center" id="exportReportBtn"><i class="fas fa-share mr-2"></i>Export Report</button>
    </div>
  </div>

  <!-- =====  JAVASCRIPT  ===== -->
  <script src="/js/dashboard.js"></script>
  <script>
    const btn  = document.getElementById('mobile-menu-btn');
    const side = document.getElementById('sidebar');
    const over = document.getElementById('sidebar-overlay');

    function toggleMenu() {
      const side = document.getElementById("sidebar");
      const over = document.getElementById("sidebar-overlay");

      side.classList.toggle("active");
      over.classList.toggle("active");

      // Lock scroll when menu open
      document.body.style.overflow =
        side.classList.contains("active") ? "hidden" : "";
    }

    btn.addEventListener('click', toggleMenu);
    over.addEventListener('click', toggleMenu);

    function togglePopup(id) {
      document.getElementById(id).classList.toggle('hidden');
    }

    document.querySelectorAll('.nav-item').forEach(link => {
      link.addEventListener('click', () => {
        if (window.innerWidth <= 768) {
          side.classList.remove('active');
          over.classList.remove('active');
          document.body.style.overflow = '';
        }
      });
    });

    // Update last updated time every second
    setInterval(() => {
      const el = document.getElementById('lastUpdated');
      if (el) el.textContent = new Date().toLocaleTimeString();
    }, 1000);
  </script>
</body>
</html>
